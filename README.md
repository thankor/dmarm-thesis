
# About 

### Distributed Multi-Level Association Rule Mining (DMARM) application

This application has been created in 2017 as part of my Master Thesis from Computer Engineering Informatics Department (https://www.ceid.upatras.gr/).
The main goal is to extract association rules using the Apriori algorithm and multi-level concept hierarchies.

## Build Notes

This is a Java standalone application (developed and tested with Java version 8). Execute the main method inside 'DmarmApplication.java' for the application to start and navigate through the UI.

In order to compile 'mapReduce/DmarmMapReduce.java' (Hadoop Map-Reduce implementation) the following jar dependency is needed:

* https://repo1.maven.org/maven2/org/apache/hadoop/hadoop-core/1.2.1/hadoop-core-1.2.1.jar

## Example files

The 'resources/example/testFolder' contains example files to showcase the way the tool works. The file structure is not mandatory, only used as a reference:
    - hierarchies_folder: contains all hierarchy files, in xml format (see more below in Hierarchies section)
	- input_folder: contains initial data files (values must be comma separated ",")
	- intermediate_folder: contains files generated by the augmentation process and hadoop result files
	- output_folder: contains files created by the application, namely the configuration file (if exported by the UI) that can be used to recreate executions and the final rule report (if exported by the UI)
	- hierarchy_mapping.txt: contains the mapping between hierarchies and input data files (see more below in Hierarchy Mapping section)


## Hierarchies

Hierarchies are stored in xml format. Level 0 signifies the root and the max level contains the leaves of the hierarchy tree (with the actual hierarchy values).
Each hierarchy file must contain as parameters the number of nodes, number of levels and the hierarchy name.

Nodes should be created with a top-to-bottom approach( similar to breadth first algorithm). Each node has the following fields:
	- id: node unique identifier (root node has id 1)
	- type: root,node,leaf => depending on the node type (root, intermediate, leaf)
	- level: node level (root node exists at level 0)
	- name: node name/value
	- parent_node: the id of the parent node (root has parent id -1)

## Hierarchy Mapping

In the hierarchy mapping file we store information in order to facilitate the mapping between input data files and existing hierarchies. Each line contains the following fields:
	- input file name
	- hierarchy name
	- column in input file name to associate the hierarchy

In order for the mapping to be done correctly, we need a column (a specific data feature from the input file) and the hierarchy to use for the specific augmentation
Based on the designated column in the mapping file, the value from the input data file is used to search for the respective leaf node in the hierarchy.

## Report file structure

The report file contains the rules extracted from an execution of the tool. Information contained in the report are the following:
	- rules: the number of extracted rules
	- minConfidence: minimum confidence threshold used for this execution
	- minSupport: minimum support threshold used for this execution
	- the extracted rule-set. For each rule we store the following fields:
	    - id: rule identifier
		- antecedent: rule left hand part (assumption)
		- consequent: rule right hand part (conclusion)
		- confidence: rule confidence
		- support: rule support
